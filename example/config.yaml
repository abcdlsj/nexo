# Nexo Configuration Example

# Basic settings
email: your-email@example.com
staging: false                    # Set to true to use Let's Encrypt staging environment
base_dir: /etc/nexo               # Base directory for nexo data
cert_dir: /etc/nexo/certs         # Certificate storage directory

# Cloudflare DNS API configuration (required for DNS-01 challenge)
cloudflare:
  api_token: your-cloudflare-api-token

# Wildcard domains (will obtain *.example.com certificate)
wildcards:
  - "*.example.com"
  - "*.yourdomain.com"

# WebUI configuration
webui:
  port: "8080"                    # WebUI listen port
  username: admin                 # Login username
  password: "$2a$10$xxxxx..."     # Bcrypt hashed password (generate with: make password PASSWORD=xxx)

# GitHub OAuth authentication (optional)
auth:
  auth_host: auth.example.com     # Unified callback domain for OAuth
  secret_key: ""                  # Auto-generated if empty
  session_ttl: "24h"              # Session TTL
  github:
    client_id: your-github-client-id
    client_secret: your-github-client-secret
    allowed_users:
      - your-github-username
      - another-allowed-user

# Proxy configurations
proxies:
  # Blog service (protected by OAuth)
  blog.example.com:
    upstream: http://localhost:3000
    auth: true

  # Public API service
  api.example.com:
    upstream: http://localhost:8080
    auth: false

  # Main website
  www.example.com:
    upstream: http://localhost:8000

  # Redirect example
  old.example.com:
    redirect: https://www.example.com

  # Standalone domain (not in wildcards, will obtain individual certificate)
  specific.otherdomain.com:
    upstream: http://localhost:5000
    auth: true
